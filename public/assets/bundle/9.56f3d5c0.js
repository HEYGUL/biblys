(window.webpackJsonp=window.webpackJsonp||[]).push([[9,15],{"5JnR":function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return r}));var s=e("NGbs");function i(t,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r=function(){function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.shortcuts=[],this.count=0,this.shortcutList=document.querySelector("#shortcut-list"),this.shortcutsInput=document.querySelector("#shortcuts-input");var i=document.querySelector("#add-shortcut");n.addEventListener("submit",(function(){window.biblys.adminBar.clearShortcutsCache()})),i.addEventListener("change",(function(){var t=i.options[i.selectedIndex],n=t.dataset;if(""!=t.value){var r=new s.default({name:t.value,icon:n.icon,url:n.url,class:n.class,subscription:n.subscription},e);e.add(r),e.selectedIndex=0}})),this.loadFromInput()}var n,e,r;return n=t,(e=[{key:"add",value:function(t){this.count>=12?window._alert("Vous ne pouvez pas ajouter plus de 12 raccourcis."):(this.shortcuts.push(t),this.count++,this.shortcutList.appendChild(t.renderHtml()),this.updateInput())}},{key:"remove",value:function(t){for(var n=0,e=this.shortcuts.length;n<e;n++)this.shortcuts[n]==t&&(this.shortcuts.splice(n,1),t.remove(),this.updateInput(),this.count--)}},{key:"updateInput",value:function(){var t=this.shortcuts.map((function(t){return t.props}));this.shortcutsInput.value=JSON.stringify(t),window.biblys.adminBar&&window.biblys.adminBar.loadPreviewFromInput(t)}},{key:"loadFromInput",value:function(){try{var t=JSON.parse(this.shortcutsInput.value)}catch(t){return}this.shortcutsInput.value="",t.forEach(function(t){this.add(new s.default({name:t.name,icon:t.icon,url:t.url,class:t.class,subscription:t.subscription},this))}.bind(this))}}])&&i(n.prototype,e),r&&i(n,r),t}();document.addEventListener("DOMContentLoaded",(function(){}))},NGbs:function(t,n,e){"use strict";function s(t,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}e.r(n),e.d(n,"default",(function(){return i}));var i=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.props={},this.props.name=n.name,this.props.url=n.url,this.props.icon=n.icon,this.props.class=n.class,this.props.subscription=n.subscription,this.manager=e}var n,e,i;return n=t,(e=[{key:"renderHtml",value:function(){this.element=document.createElement("div"),this.element.classList.add("shortcut"),this.element.innerHTML='<span class="icon fa fa-'+this.props.icon+'"></span> <p>'+this.props.name+"</p>";var t=document.createElement("p");return t.innerHTML='<button class="btn btn-xs btn-danger"><span class="fa fa-trash-o"></span></button>',this.element.appendChild(t),t.addEventListener("click",function(){this.manager.remove(this)}.bind(this)),this.element}},{key:"remove",value:function(){this.element.parentNode.removeChild(this.element)}}])&&s(n.prototype,e),i&&s(n,i),t}()}}]);