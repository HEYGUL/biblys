{% extends "layout:base.html.twig" %}

{% block title %}
  Rayons
{% endblock %}

{% block main %}

  <h1><span class="fa fa-sort-amount-asc"></span> Rayons</h1>

  <p class="buttonset">
    <a href="{{ path('rayon_new') }}" class="btn btn-primary"><i class="fa fa-plus-square"></i> Nouveau</a>
  </p>

  <table class="table table-striped table-hover">
    <thead>
    <tr>
      <th>Nom</th>
      <th>Actions</th>
      <th>Articles</th>
    </tr>
    </thead>
    {% for rayon in rayons %}
      <tr>
        <td><a href="{{ path('rayon_show', { url: rayon.url }) }}">{{ rayon.name }}</a></td>
        <td>
          <a href="{{ path('rayon_edit', { id: rayon.id }) }}" class="btn btn-sm btn-primary" title="Modifier le rayon"><i
                class="fa fa-edit"> Modifier</i></a>
          <a href="{{ path('rayon_delete', { id: rayon.id }) }}" class="btn btn-sm btn-danger"
             data-confirm="Voulez-vous vraiement SUPPRIMER le rayon {{ rayon.name }} ?" title="Supprimer le rayon"><i
                class="fa fa-trash-o"></i></a>
        </td>
        <td>
          <a href="{{ path('rayon_articles', { id: rayon.id }) }}"
             class="btn btn-default btn-sm">{{ rayon.countArticles() }}</a>
          <a href="{{ path('rayon_add', { id: rayon.id }) }}" class="btn btn-sm btn-success"
             title="Ajouter des articles au rayon"><i class="fa fa-plus-square"> Ajouter</i></a>
        </td>
      </tr>
    {% endfor %}
  </table>

{% endblock %}
